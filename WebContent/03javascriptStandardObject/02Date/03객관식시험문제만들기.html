<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>객관식 시험문제 만들기</title>

<style type="text/css">

	div#container {
		width: 80%;
 		margin: 30px auto; 
	}
	
	div#time {
		font-size: 20pt;
		margin: 30px 0;
	}

	li {
		line-height: 30px;
	}
	
	li.OX{
		list-style-type: none;
		margin: 0 15px;
		font-size: 15pt;
	}

	span.answer {
		color: red;
		margin: 0 15px;
		font-size: 15pt;
	}
	
	span#score{
		margin: 0 25px;
	}
	
</style>

</head>
<body>

	<div id="container">
		
		<div id="time">
			<div>남은시간 : <span id="timer" style="font-weight: bold; color: blue;"></span></div>
		</div>
		
		<div>
			[문제1] 다음중 신호연이 하지 않는 말은? <span class="answer" id="answer1"></span>
			<ol>
				<li>수업 끝내세요.<input type="radio" name="question1" value="1"/></li>
				<li>수업 더하세요.<input type="radio" name="question1" value="2"/></li>
				<li>뭐야? 친하지도 않으면서.<input type="radio" name="question1" value="3"/></li>
				<li>강사님, 저는 안되는데요.<input type="radio" name="question1" value="4"/></li>
				<li class="OX" id="ox1"></li>
			</ol>
		</div>
		
		<div>
			[문제2] 다음중 서로간의 공통점이 없는 것은? <span class="answer" id="answer2"></span>
			<ol>
				<li>육회<input type="radio" name="question2" value="1"/></li>
				<li>광어회<input type="radio" name="question2" value="2"/></li>
				<li>삼겹살<input type="radio" name="question2" value="3"/></li>
				<li>샐러드<input type="radio" name="question2" value="4"/></li>
				<li class="OX" id="ox2"></li>
			</ol>
		</div>
		
		<div>
			[문제3] 다음중 사람의 이름이 아닌것은? <span class="answer" id="answer3"></span>
			<ol>
				<li>권오윤<input type="radio" name="question3" value="1"/></li>
				<li>김민아<input type="radio" name="question3" value="2"/></li>
				<li>박수빈<input type="radio" name="question3" value="3"/></li>
				<li>호순이<input type="radio" name="question3" value="4"/></li>
				<li class="OX" id="ox3"></li>
			</ol>
		</div>
		
		<div>
			[문제4] 다음중 술의 종류가 다른것은? <span class="answer" id="answer4"></span>
			<ol>
				<li>칭따오<input type="radio" name="question4" value="1"/></li>
				<li>하이네켄<input type="radio" name="question4" value="2"/></li>
				<li>진로<input type="radio" name="question4" value="3"/></li>
				<li>코로나<input type="radio" name="question4" value="4"/></li>
				<li class="OX" id="ox4"></li>
			</ol>
		</div>
		
		<div>
			[문제5] 다음중 권오윤의 연락처는? <span class="answer" id="answer5"></span>
			<ol>
				<li>010-9932-8372<input type="radio" name="question5" value="1"/></li>
				<li>010-9276-5781<input type="radio" name="question5" value="2"/></li>
				<li>016-1234-5678<input type="radio" name="question5" value="3"/></li>
				<li>019-1111-2222<input type="radio" name="question5" value="4"/></li>
				<li class="OX" id="ox5"></li>
			</ol>
		</div>
		
		<div>
			[문제6] 다음중 틀린것은? <span class="answer" id="answer6"></span>
			<ol>
				<li>은지는 빵을 좋아한다<input type="radio" name="question6" value="1"/></li>
				<li>민아는 집을 좋아한다<input type="radio" name="question6" value="2"/></li>
				<li>세형이는 술을 좋아한다<input type="radio" name="question6" value="3"/></li>
				<li>정섭이는 호연이를 좋아한다<input type="radio" name="question6" value="4"/></li>
				<li class="OX" id="ox6"></li>
			</ol>
		</div>
		
		<div>
			[문제7] 다음중 브랜드가 다른것은? <span class="answer" id="answer7"></span>
			<ol>
				<li>진로<input type="radio" name="question7" value="1"/></li>
				<li>참이슬<input type="radio" name="question7" value="2"/></li>
				<li>하이트<input type="radio" name="question7" value="3"/></li>
				<li>처음처럼<input type="radio" name="question7" value="4"/></li>
				<li class="OX" id="ox7"></li>
			</ol>
		</div>
		
		<div>
			[문제8] 다음중 강사님에 대해 틀린 것은? <span class="answer" id="answer8"></span>
			<ol>
				<li>아이스크림을 좋아한다<input type="radio" name="question8" value="1"/></li>
				<li>질문하는것을 싫어한다<input type="radio" name="question8" value="2"/></li>
				<li>8만원짜리 마이크가 있다<input type="radio" name="question8" value="3"/></li>
				<li>노래부르기를 좋아한다<input type="radio" name="question8" value="4"/></li>
				<li class="OX" id="ox8"></li>
			</ol>
		</div>
		
		<div>
			[문제9] 다음중 홍대 음식이 아닌 것은? <span class="answer" id="answer9"></span>
			<ol>
				<li>슈바인학센<input type="radio" name="question9" value="1"/></li>
				<li>낙곱새<input type="radio" name="question9" value="2"/></li>
				<li>감자탕<input type="radio" name="question9" value="3"/></li>
				<li>물갈비<input type="radio" name="question9" value="4"/></li>
				<li class="OX" id="ox9"></li>
			</ol>
		</div>
		
		<div>
			[문제10] 다음중 신호연이 가장 좋아하는 음식은? <span class="answer" id="answer10"></span>
			<ol>
				<li>연어<input type="radio" name="question10" value="1"/></li>
				<li>삼겹살<input type="radio" name="question10" value="2"/></li>
				<li>에그타르트<input type="radio" name="question10" value="3"/></li>
				<li>아보카도바나나쉐이크<input type="radio" name="question10" value="4"/></li>
				<li class="OX" id="ox10"></li>
			</ol>
		</div>
	
		<button type="button" id="submit" onclick="func_marking()">제출</button>
		<span id="score" style="font-size:20pt; font-weight: bold;"></span>
	
	</div>

</body>

<script type="text/javascript">

	var clock;
	var start = 0; // 허용시간값(예: 5분)
	var cnt = 0;   // 증가치
		
	var score = 0; // 점수
		
	var arrAnswer = [2, 3, 4, 3, 2, 4, 4, 2, 1, 1]; // 정답 배열
		
	var arrCheck = []; // 체크한 값 배열
		

	window.onload = function() {
		
		// 타이머
		func_loopTimer();
		
		/* addEventListener 방식
		// 제출 버튼 클릭 이벤트
		submit.addEventListener("click", function() {
			
			alert("제출완료 했습니다.");
			
			clearTimeout(clock); // 무한 루프 종료
			document.getElementById("timer").innerHTML = "00 : 00";
			
			var check; // 각 문제마다 체크한 값.
			
			// 총 문제수만큼 for문을 돌려 각 문제의 체크한 값을  arrCheck배열에 순차적으로 넣음. 만일 체크를 하지 않은 문제는 값을 0 으로 넣음.
			for (var i = 0; i < arrAnswer.length; i++) {
				
				check = 0;
				
				for (var j = 0; j < 4; j++) {
					if (document.getElementsByName("question"+(i+1))[j].checked) {
						check = document.getElementsByName("question"+(i+1))[j].value;
						break;
					}
				}
				
				arrCheck.push(check);
				
			}
			
			// 각 문제의 체크 값이 정답과 같으면 점수 +10을 해주며 각 문제 옆에 정답을 표시해 줌.
			for (var i = 0; i < arrAnswer.length; i++) {
				
				document.getElementById("answer"+(i+1)).innerText = arrAnswer[i]; // 각 문제 옆에 정답 표시.
				
				if (arrAnswer[i] == arrCheck[i]) {
					score += 10;
					document.getElementById("ox"+(i+1)).innerHTML = "<span style='color: blue; font-weight: bold;'>O</span>";
				} else{
					document.getElementById("ox"+(i+1)).innerHTML = "<span style='color: red; font-weight: bold;'>X</span>";
				}
			}
			
			document.getElementById("score").innerText = score +"점"; 			
			
		});		
		*/
		
		
	} // end of window.onload = function() {}---------------------------------------

	// onclick 방식
	function func_marking(){
		
		if (start > 0) {
			alert("제출완료 했습니다.");
		
			clearTimeout(clock); // 무한 루프 종료
			document.getElementById("timer").innerHTML = "00 : 00";
		}
	
		var check; // 각 문제마다 체크한 값.
		
		// 총 문제수만큼 for문을 돌려 각 문제의 체크한 값을  arrCheck배열에 순차적으로 넣음. 만일 체크를 하지 않은 문제는 값을 0 으로 넣음.
		for (var i = 0; i < arrAnswer.length; i++) {
			
			check = 0;
			
			for (var j = 0; j < 4; j++) {
				if (document.getElementsByName("question"+(i+1))[j].checked) {
					check = document.getElementsByName("question"+(i+1))[j].value;
					break;
				}
			}
			
			arrCheck.push(check);
			
		}
		
		
		// 각 문제의 체크 값이 정답과 같으면 점수 +10을 해주며 각 문제 옆에 정답을 표시해 줌.
		for (var i = 0; i < arrAnswer.length; i++) {
			
			document.getElementById("answer"+(i+1)).innerText = arrAnswer[i]; // 각 문제 옆에 정답 표시.
			
			if (arrAnswer[i] == arrCheck[i]) {
				score += 10;
				document.getElementById("ox"+(i+1)).innerHTML = "<span style='color: blue; font-weight: bold;'>O</span>";
			} else{
				document.getElementById("ox"+(i+1)).innerHTML = "<span style='color: red; font-weight: bold;'>X</span>";
			}
		}
		
		document.getElementById("score").innerText = score +"점"; 
		
	}// end of function func_marking(){}--------------------------------------------
	
	
	function func_loopTimer() {
		
		func_timer(cnt++);
		
		if (start >= 0) {
			clock = setTimeout('func_loopTimer()', 1000);
		}
		
	} // end of function func_loopTimer() {}----------------------------------------
	
	
	function func_timer(i) {
		
		start = 5 * 60 - i; // 초단위
		
		if (start >= 0) {
			
			var minute = "";
			
			if (start <= 600) {
				minute = "0";
			}
			
			minute += parseInt(start/60);
			
			var second = start % 60;
			second = (second < 10) ? "0" + second : second;
			
			document.getElementById("timer").innerHTML = minute+" : "+second;
			
		}else{
			alert("시간이 종료되었습니다.");
			func_marking(); // 지금까지 체크한 값들로 채점.
			return;
		}
		
		
	} // end of function func_timer(i) {}-------------------------------------------
	
	
	
</script>

</html>